# Переменные окружения
Задать переменные окружения в контейнере можно двумя способами:
1. Через инструкцию ENV в докерфайле - для обычных несекретных данных, используемых приложением.
2. Прокидывать при запуске контейнера при помощи опции -e - подходит для передачи секретных данных(токены, пароли).

```Dockerfile
# Dockerfile:
...
ENV MODEL_NAME="deep-pavlov/rubert-uncased"
...
```

Запуск контейнера: `docker run -e APP_TOKEN=<secret> <image>`

Есть ещё вариант - прокидывать в контейнер файл с переменными и читать его скриптом(config.py).

### Получение переменных окружения через python
В python получить переменные окружение можно при помощи модуля __os__:
```python
import os

os.environ.get("APP_TOKEN")
os.environ.get("MODEL_NAME")
```

# Логи в контейнере
Логи в контейнере могут записываться либо в поток вывода, либо в отдельный файл. В случае, если вывод логов осуществляется в поток вывода, докер автоматически эти логи сохраняет и их можно посмотреть:

```
# Просмотр логов контейнера
$docker logs <container>

# Просмотр логов в реальном времени:
$docker logs -f <container>

# Вывод времени логов:
$docker logs -t <container>
```

# Порты
Работающие веб-приложения на хосте сопостовляются с некоторыми портами(т.е. каждое приложение "слушает" свой порт). Приходящие на сервер запросы содержат в себе номер порта, к которому они обращаются. 

Если на хосте поднимается контейнер с веб-приложением, то для того, чтобы запросы доходили до приложения внутри контейнера нужно сделать __проброс портов__ - сопоставление порта хоста и порта контейнера. Тогда если на указанный порт хоста придёт запрос, то он будет адресован в указанный порт контейнера.

Для явного указания того, что приложение внутри контейнера слушает определённые порты, используется инструкция EXPOSE в докерфайле:
```Dockerfile
# Укажем, что наше приложение способно слушать несколько портов: 8000, 8001, 8002
EXPOSE 8000
EXPOSE 8001
EXPOSE 8002
```

Проброс портов выполняется при запуске контейнера с опцией -p: `docker run -p <host port>:<container host> <image>`

Причём можно пробрасывать сразу несколько портов при помощи повторного использования опции -p:

`docker run -p 8000:8000 -p 80:8001 -p 82:80 ...`
